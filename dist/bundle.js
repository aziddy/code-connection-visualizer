(()=>{"use strict";var e={672:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TextRenderer=void 0,t.TextRenderer=class{constructor(e){this.characterBounds=[],this.fileBounds=new Map,this.canvas=e;const t=e.getContext("2d");if(!t)throw new Error("Could not get 2D context from canvas");this.ctx=t,this.measuringCanvas=document.createElement("canvas"),this.measuringCanvas.width=1e3,this.measuringCanvas.height=100;const i=this.measuringCanvas.getContext("2d");if(!i)throw new Error("Could not create measuring context");this.measuringCtx=i,this.fontConfig={family:'Consolas, Monaco, "Courier New", monospace',size:14,weight:"normal",style:"normal"},this.state={fontSize:14,fontFamily:this.fontConfig.family,lineHeight:20,charWidth:8.4,scrollX:0,scrollY:0,scale:1},this.updateFontMetrics()}updateFontMetrics(){const e=this.getFontString();this.measuringCtx.font=e,this.ctx.font=e;const t=this.measuringCtx.measureText("M");this.state.charWidth=t.width;const i=this.measuringCtx.measureText("Mg"),n=i.actualBoundingBoxAscent+i.actualBoundingBoxDescent;this.state.lineHeight=Math.max(1.4*n,1.4*this.state.fontSize)}getFontString(){return`${this.fontConfig.style} ${this.fontConfig.weight} ${this.fontConfig.size}px ${this.fontConfig.family}`}setFontSize(e){this.fontConfig.size=e,this.state.fontSize=e,this.updateFontMetrics()}setFontFamily(e){this.fontConfig.family=e,this.state.fontFamily=e,this.updateFontMetrics()}clear(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}renderText(e,t){this.clear(),this.characterBounds=[];const i=20-this.state.scrollX,n=30-this.state.scrollY;this.ctx.font=this.getFontString(),this.ctx.textBaseline="top";for(let s=0;s<e.length;s++){const o=e[s],l=n+s*this.state.lineHeight;if(l+this.state.lineHeight<0||l>this.canvas.height){this.characterBounds[s]=[];continue}const c=[];for(let e=0;e<o.length;e++){const n=o[e],h=i+e*this.state.charWidth,a={char:n,x:h,y:l,width:this.state.charWidth,height:this.state.lineHeight,charIndex:e,lineIndex:s};c.push(a);const r=t?.[s]?.[e];r?(r.backgroundColor&&(this.ctx.fillStyle=r.backgroundColor,this.ctx.fillRect(h,l,this.state.charWidth,this.state.lineHeight)),this.ctx.fillStyle=r.color):this.ctx.fillStyle="#d4d4d4",this.ctx.fillText(n,h,l)}this.characterBounds[s]=c}}renderFileText(e,t){const i=[];this.ctx.fillStyle="#1e1e1e",this.ctx.fillRect(t.x,t.y,t.width,t.height),this.ctx.strokeStyle="#3e3e42",this.ctx.lineWidth=1,this.ctx.strokeRect(t.x,t.y,t.width,t.height),this.ctx.fillStyle="#cccccc",this.ctx.font="12px "+this.fontConfig.family,this.ctx.fillText(e.name,t.x+5,t.y+5);const n=t.x+10,s=t.y+25,o=t.width-20,l=t.height-35;this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(t.x,t.y,t.width,t.height),this.ctx.clip(),this.ctx.font=this.getFontString(),this.ctx.textBaseline="top";const c=Math.floor(l/this.state.lineHeight),h=Math.min(e.lines.length,c);for(let t=0;t<h;t++){const l=e.lines[t],c=s+t*this.state.lineHeight,h=[],a=Math.floor(o/this.state.charWidth),r=Math.min(l.length,a);for(let i=0;i<r;i++){const s=l[i],o=n+i*this.state.charWidth,a={char:s,x:o,y:c,width:this.state.charWidth,height:this.state.lineHeight,charIndex:i,lineIndex:t};h.push(a);const r=e.syntaxStyles?.[t]?.[i];r?(r.backgroundColor&&(this.ctx.fillStyle=r.backgroundColor,this.ctx.fillRect(o,c,this.state.charWidth,this.state.lineHeight)),this.ctx.fillStyle=r.color):this.ctx.fillStyle="#d4d4d4",this.ctx.fillText(s,o,c)}i[t]=h}this.ctx.restore(),this.fileBounds.set(e.id,i)}getCharacterAt(e,t){for(const i of this.characterBounds)for(const n of i)if(e>=n.x&&e<n.x+n.width&&t>=n.y&&t<n.y+n.height)return n;return null}getCharacterAtInFile(e,t,i){const n=this.fileBounds.get(e.id);if(!n)return null;for(const e of n)for(const n of e)if(t>=n.x&&t<n.x+n.width&&i>=n.y&&i<n.y+n.height)return n;return null}getCharacterBounds(e,t){return e<0||e>=this.characterBounds.length||t<0||t>=this.characterBounds[e].length?null:this.characterBounds[e][t]}getCharacterBoundsInFile(e,t,i){const n=this.fileBounds.get(e.id);return n?t<0||t>=n.length||i<0||i>=n[t].length?null:n[t][i]:null}getAllCharacterBounds(){return this.characterBounds}getState(){return{...this.state}}setScroll(e,t){this.state.scrollX=e,this.state.scrollY=t}getLineHeight(){return this.state.lineHeight}getCharWidth(){return this.state.charWidth}highlightSelection(e,t,i,n,s="rgba(0, 122, 204, 0.3)"){if(this.ctx.fillStyle=s,e===i){const i=this.characterBounds[e];if(i&&i.length>0){const e=i[t]?.x||0,s=i[Math.min(n,i.length-1)]?.x||e,o=i[0].y;this.ctx.fillRect(e,o,Math.max(s-e+this.state.charWidth,this.state.charWidth),this.state.lineHeight)}}else for(let s=e;s<=i;s++){const o=this.characterBounds[s];if(o&&0!==o.length)if(s===e){const e=o[t]?.x||0,i=o[o.length-1]?.x+this.state.charWidth||e;this.ctx.fillRect(e,o[0].y,i-e,this.state.lineHeight)}else if(s===i){const e=o[0].x,t=o[Math.min(n,o.length-1)]?.x||e;this.ctx.fillRect(e,o[0].y,t-e+this.state.charWidth,this.state.lineHeight)}else{const e=o[0].x,t=o[o.length-1]?.x+this.state.charWidth||e;this.ctx.fillRect(e,o[0].y,t-e,this.state.lineHeight)}}}highlightSelectionInFile(e,t,i,n,s,o="rgba(0, 122, 204, 0.3)"){const l=this.fileBounds.get(e.id);if(l){if(this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(e.x,e.y,e.width,e.height),this.ctx.clip(),this.ctx.fillStyle=o,t===n){const e=l[t];if(e&&e.length>0){const t=e[i]?.x||0,n=e[Math.min(s,e.length-1)]?.x||t,o=e[0].y;this.ctx.fillRect(t,o,Math.max(n-t+this.state.charWidth,this.state.charWidth),this.state.lineHeight)}}else for(let e=t;e<=n;e++){const o=l[e];if(o&&0!==o.length)if(e===t){const e=o[i]?.x||0,t=o[o.length-1]?.x+this.state.charWidth||e;this.ctx.fillRect(e,o[0].y,t-e,this.state.lineHeight)}else if(e===n){const e=o[0].x,t=o[Math.min(s,o.length-1)]?.x||e;this.ctx.fillRect(e,o[0].y,t-e+this.state.charWidth,this.state.lineHeight)}else{const e=o[0].x,t=o[o.length-1]?.x+this.state.charWidth||e;this.ctx.fillRect(e,o[0].y,t-e,this.state.lineHeight)}}this.ctx.restore()}}}},709:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CodeVisualizer=void 0;const n=i(672),s=i(868);t.CodeVisualizer=class{constructor(e){this.codeFiles=new Map,this.fileLayouts=new Map,this.connectionLines=[],this.defaultLineColor="#007acc",this.activeFileId=null,this.isSelecting=!1,this.selectionStart=null,this.selectionEnd=null,this.currentSelection=null,this.pendingSelection=null,this.firstSelection=null,this.isCreatingConnection=!1,this.canvas=e;const t=e.getContext("2d");if(!t)throw new Error("Could not get 2D context from canvas");this.ctx=t,this.textRenderer=new n.TextRenderer(e),this.syntaxHighlighter=new s.SyntaxHighlighter,this.setupEventListeners()}setupEventListeners(){this.canvas.addEventListener("mousedown",this.handleMouseDown.bind(this)),this.canvas.addEventListener("mousemove",this.handleMouseMove.bind(this)),this.canvas.addEventListener("mouseup",this.handleMouseUp.bind(this)),document.addEventListener("keydown",this.handleKeyDown.bind(this)),this.canvas.addEventListener("contextmenu",e=>e.preventDefault())}handleMouseDown(e){const t=this.canvas.getBoundingClientRect(),i=e.clientX-t.left,n=e.clientY-t.top,s=this.getCharacterAtPosition(i,n);s&&(this.isSelecting=!0,this.selectionStart=s.char,this.selectionEnd=s.char,this.activeFileId=s.fileId,this.updateSelection())}handleMouseMove(e){if(!this.isSelecting||!this.selectionStart)return;const t=this.canvas.getBoundingClientRect(),i=e.clientX-t.left,n=e.clientY-t.top,s=this.getCharacterAtPosition(i,n);s&&s.fileId===this.activeFileId&&(this.selectionEnd=s.char,this.updateSelection())}handleMouseUp(e){this.isSelecting&&this.currentSelection&&this.finalizeSelection(),this.isSelecting=!1,this.selectionStart=null,this.selectionEnd=null}handleKeyDown(e){"c"!==e.key&&"C"!==e.key||(this.pendingSelection&&this.firstSelection?(this.createConnection(this.firstSelection,this.pendingSelection),this.firstSelection=null,this.pendingSelection=null,this.isCreatingConnection=!1):this.pendingSelection&&(this.firstSelection=this.pendingSelection,this.isCreatingConnection=!0,console.log("First selection set. Select another text sequence and press C again to create connection."))),"Escape"===e.key&&(this.firstSelection=null,this.isCreatingConnection=!1,console.log("Connection creation cancelled.")),"Delete"===e.key&&(this.connectionLines=[],this.render(),console.log("All connections cleared."))}updateSelection(){if(!this.selectionStart||!this.selectionEnd||!this.activeFileId)return;const e=Math.min(this.selectionStart.lineIndex,this.selectionEnd.lineIndex),t=Math.max(this.selectionStart.lineIndex,this.selectionEnd.lineIndex);let i,n;e===t?(i=Math.min(this.selectionStart.charIndex,this.selectionEnd.charIndex),n=Math.max(this.selectionStart.charIndex,this.selectionEnd.charIndex)):this.selectionStart.lineIndex<this.selectionEnd.lineIndex?(i=this.selectionStart.charIndex,n=this.selectionEnd.charIndex):(i=this.selectionEnd.charIndex,n=this.selectionStart.charIndex),this.currentSelection={startCharIndex:i,endCharIndex:n,startLine:e,endLine:t,fileId:this.activeFileId},this.render()}finalizeSelection(){if(this.currentSelection){this.pendingSelection={...this.currentSelection};const e=this.codeFiles.get(this.currentSelection.fileId)?.name||"Unknown";console.log(`Selected in ${e}: Line ${this.currentSelection.startLine+1}, Char ${this.currentSelection.startCharIndex} to Line ${this.currentSelection.endLine+1}, Char ${this.currentSelection.endCharIndex}`),this.isCreatingConnection?console.log("Now select the end point and press C to create connection."):console.log("Press C to set this as start of a connection.")}this.currentSelection=null}createConnection(e,t){const i={id:`conn_${Date.now()}_${Math.random().toString(36).substring(2,11)}`,start:{...e},end:{...t},color:this.defaultLineColor,width:2};this.connectionLines.push(i),this.render();const n=this.codeFiles.get(e.fileId)?.name||"Unknown",s=this.codeFiles.get(t.fileId)?.name||"Unknown";console.log(`Connection created between ${n}:${e.startLine+1} and ${s}:${t.startLine+1}`)}loadCodeFile(e,t,i,n){console.log(`CodeVisualizer.loadCodeFile called: ${e}, ${t}, code length: ${i.length}`);const s=n||this.syntaxHighlighter.detectLanguage(i),o=i.split("\n"),l={id:e,name:t,content:i,language:s,lines:o,syntaxStyles:this.syntaxHighlighter.highlight(i,s)};this.codeFiles.set(e,l),console.log(`Files now loaded: ${Array.from(this.codeFiles.keys()).join(", ")}`),this.updateFileLayouts(),this.render(),console.log(`Code file '${t}' loaded with ${o.length} lines (${s})`)}loadCode(e,t){this.loadCodeFile("file1","Main File",e,t)}setFontSize(e){this.textRenderer.setFontSize(e),this.render()}setDefaultLineColor(e){this.defaultLineColor=e}handleResize(){this.updateFileLayouts(),this.render()}render(){console.log(`Rendering ${this.codeFiles.size} files`),this.textRenderer.clear();for(const[e,t]of this.codeFiles){const i=this.fileLayouts.get(e);console.log(`File ${e}: layout exists=${!!i}, visible=${i?.visible}`),i&&i.visible&&(console.log(`Rendering file ${e} at position (${i.x}, ${i.y})`),this.textRenderer.renderFileText(t,i))}if(this.currentSelection){const e=this.fileLayouts.get(this.currentSelection.fileId);e&&this.textRenderer.highlightSelectionInFile(e,this.currentSelection.startLine,this.currentSelection.startCharIndex,this.currentSelection.endLine,this.currentSelection.endCharIndex,"rgba(0, 122, 204, 0.3)")}if(this.pendingSelection&&!this.currentSelection){const e=this.fileLayouts.get(this.pendingSelection.fileId);e&&this.textRenderer.highlightSelectionInFile(e,this.pendingSelection.startLine,this.pendingSelection.startCharIndex,this.pendingSelection.endLine,this.pendingSelection.endCharIndex,this.isCreatingConnection?"rgba(255, 193, 7, 0.3)":"rgba(40, 167, 69, 0.3)")}if(this.firstSelection&&this.isCreatingConnection){const e=this.fileLayouts.get(this.firstSelection.fileId);e&&this.textRenderer.highlightSelectionInFile(e,this.firstSelection.startLine,this.firstSelection.startCharIndex,this.firstSelection.endLine,this.firstSelection.endCharIndex,"rgba(220, 53, 69, 0.3)")}this.renderConnectionLines()}renderConnectionLines(){for(const e of this.connectionLines)this.renderConnectionLine(e)}renderConnectionLine(e){const t=this.getSelectionBounds(e.start),i=this.getSelectionBounds(e.end);if(!t||!i)return;const n=t.x+t.width/2,s=t.y+t.height/2,o=i.x+i.width/2,l=i.y+i.height/2;this.ctx.save(),this.ctx.strokeStyle=e.color,this.ctx.lineWidth=e.width,this.ctx.setLineDash([]),this.ctx.beginPath(),this.ctx.moveTo(n,s);const c=.5*Math.abs(l-s);this.ctx.bezierCurveTo(n+c,s,o-c,l,o,l),this.ctx.stroke(),this.drawArrow(o,l,Math.atan2(l-s,o-n),e.color),this.ctx.restore()}drawArrow(e,t,i,n){this.ctx.save(),this.ctx.fillStyle=n,this.ctx.translate(e,t),this.ctx.rotate(i),this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(-10,-3),this.ctx.lineTo(-10,3),this.ctx.closePath(),this.ctx.fill(),this.ctx.restore()}getSelectionBounds(e){if(!e.fileId)return null;const t=this.fileLayouts.get(e.fileId);if(!t)return null;const i=this.textRenderer.getCharacterBoundsInFile(t,e.startLine,e.startCharIndex),n=this.textRenderer.getCharacterBoundsInFile(t,e.endLine,e.endCharIndex);if(!i||!n)return null;const s=Math.min(i.x,n.x),o=Math.min(i.y,n.y);return{x:s,y:o,width:Math.max(n.x+n.width-s,i.x+i.width-s),height:Math.max(n.y+n.height-o,i.y+i.height-o)}}getConnectionLines(){return[...this.connectionLines]}removeConnection(e){this.connectionLines=this.connectionLines.filter(t=>t.id!==e),this.render()}clearAllConnections(){this.connectionLines=[],this.render()}exportConnections(){return JSON.stringify(this.connectionLines,null,2)}importConnections(e){try{const t=JSON.parse(e);this.connectionLines=t,this.render()}catch(e){console.error("Failed to import connections:",e)}}updateFileLayouts(){const e=Array.from(this.codeFiles.values()),t=this.canvas.width,i=this.canvas.height;if(console.log(`updateFileLayouts: ${e.length} files, canvas: ${t}x${i}`),0!==e.length){if(1===e.length)this.fileLayouts.set(e[0].id,{id:e[0].id,x:0,y:0,width:t,height:i,visible:!0});else if(2===e.length){const n=t/2;this.fileLayouts.set(e[0].id,{id:e[0].id,x:0,y:0,width:n-10,height:i,visible:!0}),this.fileLayouts.set(e[1].id,{id:e[1].id,x:n+10,y:0,width:n-10,height:i,visible:!0})}else if(3===e.length){const n=t/2,s=i/2;this.fileLayouts.set(e[0].id,{id:e[0].id,x:0,y:0,width:n-5,height:s-5,visible:!0}),this.fileLayouts.set(e[1].id,{id:e[1].id,x:n+5,y:0,width:n-5,height:s-5,visible:!0}),this.fileLayouts.set(e[2].id,{id:e[2].id,x:t/4,y:s+5,width:t/2,height:s-5,visible:!0})}}else console.log("No files to layout")}getCharacterAtPosition(e,t){for(const[i,n]of this.fileLayouts)if(n.visible&&e>=n.x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n.height){const s=this.textRenderer.getCharacterAtInFile(n,e,t);if(s)return{char:s,fileId:i}}return null}removeCodeFile(e){this.codeFiles.delete(e),this.fileLayouts.delete(e),this.connectionLines=this.connectionLines.filter(t=>t.start.fileId!==e&&t.end.fileId!==e),this.updateFileLayouts(),this.render()}getCodeFiles(){return Array.from(this.codeFiles.values())}}},868:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SyntaxHighlighter=void 0,t.SyntaxHighlighter=class{constructor(){this.themes=new Map,this.languages=new Map,this.initializeLanguages(),this.initializeThemes()}initializeLanguages(){this.languages.set("javascript",{name:"JavaScript",extensions:[".js",".jsx"],keywords:["function","const","let","var","if","else","for","while","do","break","continue","return","class","extends","import","export","default","try","catch","finally","throw","new","this","super","static","async","await"],operators:["+","-","*","/","%","=","==","===","!=","!==","<",">","<=",">=","&&","||","!","?",":","=>"],brackets:["(",")","[","]","{","}"],lineComment:"//",blockComment:{start:"/*",end:"*/"}}),this.languages.set("typescript",{name:"TypeScript",extensions:[".ts",".tsx"],keywords:["function","const","let","var","if","else","for","while","do","break","continue","return","class","extends","import","export","default","try","catch","finally","throw","new","this","super","static","async","await","interface","type","enum","public","private","protected","readonly"],operators:["+","-","*","/","%","=","==","===","!=","!==","<",">","<=",">=","&&","||","!","?",":","=>"],brackets:["(",")","[","]","{","}"],lineComment:"//",blockComment:{start:"/*",end:"*/"}}),this.languages.set("python",{name:"Python",extensions:[".py"],keywords:["def","class","if","elif","else","for","while","break","continue","return","import","from","as","try","except","finally","raise","with","lambda","and","or","not","in","is","None","True","False"],operators:["+","-","*","/","//","%","**","=","==","!=","<",">","<=",">=","and","or","not"],brackets:["(",")","[","]","{","}"],lineComment:"#"})}initializeThemes(){this.themes.set("dark",{keyword:{color:"#569cd6"},string:{color:"#ce9178"},number:{color:"#b5cea8"},comment:{color:"#6a9955"},operator:{color:"#d4d4d4"},bracket:{color:"#ffd700"},function:{color:"#dcdcaa"},variable:{color:"#9cdcfe"},type:{color:"#4ec9b0"},default:{color:"#d4d4d4"}})}detectLanguage(e,t){return t&&this.languages.has(t)?t:e.includes("function")&&(e.includes("const")||e.includes("let"))?e.includes("interface")||e.includes(": string")||e.includes(": number")?"typescript":"javascript":e.includes("def ")&&e.includes(":")?"python":"javascript"}tokenize(e,t){const i=[],n=e.split("\n"),s=this.languages.get(t);if(!s)return this.tokenizeGeneric(e);let o=0;for(let e=0;e<n.length;e++){const t=n[e];let l=0;for(;l<t.length;){const n=t.slice(l),c=n.match(/^\s+/);if(c){l+=c[0].length,o+=c[0].length;continue}if(s.lineComment&&n.startsWith(s.lineComment)){const t=n;i.push({type:"comment",value:t,startIndex:o,endIndex:o+t.length,line:e,column:l}),o+=t.length;break}const h=n.match(/^(['"`])((?:\\.|(?!\1)[^\\])*)\1/);if(h){i.push({type:"string",value:h[0],startIndex:o,endIndex:o+h[0].length,line:e,column:l}),l+=h[0].length,o+=h[0].length;continue}const a=n.match(/^\d+\.?\d*/);if(a){i.push({type:"number",value:a[0],startIndex:o,endIndex:o+a[0].length,line:e,column:l}),l+=a[0].length,o+=a[0].length;continue}const r=n.match(/^[a-zA-Z_$][a-zA-Z0-9_$]*/);if(r){const t=r[0],n=s.keywords.includes(t)?"keyword":"identifier";i.push({type:n,value:t,startIndex:o,endIndex:o+t.length,line:e,column:l}),l+=t.length,o+=t.length;continue}let d=!1;for(const t of[...s.operators,...s.brackets].sort((e,t)=>t.length-e.length))if(n.startsWith(t)){const n=s.brackets.includes(t)?"bracket":"operator";i.push({type:n,value:t,startIndex:o,endIndex:o+t.length,line:e,column:l}),l+=t.length,o+=t.length,d=!0;break}d||(i.push({type:"default",value:n[0],startIndex:o,endIndex:o+1,line:e,column:l}),l+=1,o+=1)}o+=1}return i}tokenizeGeneric(e){const t=[],i=e.split("\n");let n=0;for(let e=0;e<i.length;e++){const s=i[e];for(let i=0;i<s.length;i++)t.push({type:"default",value:s[i],startIndex:n,endIndex:n+1,line:e,column:i}),n++;n++}return t}getStylesForTokens(e,t="dark"){const i=this.themes.get(t);if(!i)throw new Error(`Theme '${t}' not found`);const n=[];for(const t of e){for(;n.length<=t.line;)n.push([]);const e=i[t.type]||i.default||{color:"#d4d4d4"};for(let i=0;i<t.value.length;i++)n[t.line][t.column+i]=e}return n}highlight(e,t,i="dark"){const n=t||this.detectLanguage(e),s=this.tokenize(e,n);return this.getStylesForTokens(s,i)}}}},t={};function i(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,i),o.exports}(()=>{const e=i(709);document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("canvas"),i=document.getElementById("fileName1"),n=document.getElementById("codeInput1"),s=document.getElementById("loadCode1"),o=document.getElementById("languageSelect1"),l=document.getElementById("fileName2"),c=document.getElementById("codeInput2"),h=document.getElementById("loadCode2"),a=document.getElementById("languageSelect2"),r=document.getElementById("fileName3"),d=document.getElementById("codeInput3"),u=document.getElementById("loadCode3"),g=document.getElementById("languageSelect3"),f=document.getElementById("loadAllFiles"),x=document.getElementById("clearAllFiles"),m=document.getElementById("fontSizeSlider"),y=document.getElementById("fontSizeLabel"),p=document.getElementById("lineColorPicker");if(!t)return void console.error("Canvas element not found");const C={fileName1:i,codeInput1:n,loadCode1Btn:s,languageSelect1:o,fileName2:l,codeInput2:c,loadCode2Btn:h,languageSelect2:a,fileName3:r,codeInput3:d,loadCode3Btn:u,languageSelect3:g,loadAllFilesBtn:f,clearAllFilesBtn:x,fontSizeSlider:m,fontSizeLabel:y,lineColorPicker:p};for(const[e,t]of Object.entries(C))if(!t)return void console.error(`Element ${e} not found`);const v=new e.CodeVisualizer(t),S=()=>{const e=t.parentElement,i=e.clientWidth,n=e.clientHeight;console.log(`Container dimensions: ${i}x${n}`),console.log(`Resizing canvas from ${t.width}x${t.height} to ${i}x${n}`),i>0&&n>0?(t.width=i,t.height=n,t.style.width=i+"px",t.style.height=n+"px",v.handleResize()):console.error("Invalid container dimensions:",i,n)};setTimeout(()=>{S(),f.click()},200),window.addEventListener("resize",S),s.addEventListener("click",()=>{console.log("Load File 1 clicked");const e=n.value.trim();if(console.log("File 1 code:",e.substring(0,50)+"..."),e){const t=o.value;console.log("Loading file 1 with language:",t),v.loadCodeFile("file1",i.value||"File 1",e,"auto"===t?void 0:t)}else console.log("No code to load for file 1")}),h.addEventListener("click",()=>{const e=c.value.trim();if(e){const t=a.value;v.loadCodeFile("file2",l.value||"File 2",e,"auto"===t?void 0:t)}}),u.addEventListener("click",()=>{const e=d.value.trim();if(e){const t=g.value;v.loadCodeFile("file3",r.value||"File 3",e,"auto"===t?void 0:t)}}),f.addEventListener("click",()=>{console.log("Load All Files clicked");const e=[{id:"file1",name:i.value||"File 1",code:n.value.trim(),language:o.value},{id:"file2",name:l.value||"File 2",code:c.value.trim(),language:a.value},{id:"file3",name:r.value||"File 3",code:d.value.trim(),language:g.value}];console.log("Files to load:",e.map(e=>({id:e.id,name:e.name,hasCode:!!e.code,language:e.language}))),e.forEach(e=>{e.code?(console.log(`Loading ${e.id} with ${e.code.length} characters`),v.loadCodeFile(e.id,e.name,e.code,"auto"===e.language?void 0:e.language)):console.log(`Skipping ${e.id} - no code`)})}),x.addEventListener("click",()=>{v.removeCodeFile("file1"),v.removeCodeFile("file2"),v.removeCodeFile("file3")}),m.addEventListener("input",()=>{const e=parseInt(m.value);y.textContent=`${e}px`,v.setFontSize(e)}),p.addEventListener("change",()=>{v.setDefaultLineColor(p.value)}),n.value="function fibonacci(n) {\n    if (n <= 1) {\n        return n;\n    }\n    return fibonacci(n - 1) + fibonacci(n - 2);\n}\n\nconst result = fibonacci(10);\nconsole.log(result);",c.value='def calculate_factorial(n):\n    if n <= 1:\n        return 1\n    return n * calculate_factorial(n - 1)\n\nresult = calculate_factorial(5)\nprint(f"Factorial result: {result}")',d.value=".container {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    background-color: #f0f0f0;\n}\n\n.button {\n    padding: 10px 20px;\n    background-color: #007acc;\n    color: white;\n    border: none;\n    border-radius: 4px;\n}",console.log("Code Connect Visualizer initialized")})})()})();